{% extends 'master.html' %}
{% load static %}
{% block title %} {{ product.title }} | {% endblock %}
{% load jalali_tags %}

	{% block content %}
		<!-- MainContent -->
			<div class="container mx-auto p-4 ">
				<!-- mainAbout -->
					<div class="container mx-auto max-w-7xl my-12 px-2 border border-gray-300 rounded-lg p-4 shadow-sm">
						<div class="single-product-page">
							<div class="container mx-auto p-2">
							  <!-- باکس کلی -->
							  <div class="bg-white rounded-lg p-2 grid grid-cols-1 md:grid-cols-2 gap-6">

							    <!-- بخش راست: عکس‌ها -->
							    <div>
							      <!-- عکس اصلی -->
							      <div class="border border-gray-300 rounded-lg overflow-hidden">
							        <img src="{{ product.image.url }}" alt="{{ product.title }}" class="max-h-[400px] object-cover m-auto">
							      </div>

							      <!-- عکس‌های اضافی -->
							      <!-- <div class="flex gap-1 mt-4 justify-center">
							        <img src="img/iphone16-pro-max.webp" alt="عکس ۱" class="w-24 h-24 object-cover rounded-lg border border-gray-300 cursor-pointer hover:scale-105 transition">
							        <img src="img/iphone-cover.webp" alt="عکس ۲" class="w-24 h-24 object-cover rounded-lg border border-gray-300 cursor-pointer hover:scale-105 transition">
							        <img src="img/earphone.webp" alt="عکس ۳" class="w-24 h-24 object-cover rounded-lg border border-gray-300 cursor-pointer hover:scale-105 transition">
							      </div> -->
							    </div>

							    <!-- بخش چپ: اطلاعات محصول -->
							    <div class="flex flex-col gap-2">
							      <!-- نام محصول -->
							      <h1 class="text-2xl font-bold mb-4">{{ product.title }}</h1>

							      <!-- ویژگی‌ها -->
							      <p class="text-lg font-semibold mt-4 flex gap-1">
							      	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M21 4V18.7215C21 18.9193 20.8833 19.0986 20.7024 19.1787L12 23.0313L3.29759 19.1787C3.11667 19.0986 3 18.9193 3 18.7215V4H1V2H23V4H21ZM8 12V14H16V12H8ZM8 8V10H16V8H8Z"></path></svg>
							      ویژگی‌های محصول:
								  </p>
							      <div class="flex gap-3 mb-4 mt-4">
							      	{% for feature in product.get_features_list %}
									    <div class="bg-gray-200 px-4 py-2 rounded-lg text-gray-800">{{ feature }}</div>
									{% endfor %}
							        <!-- <div class="bg-gray-200 px-4 py-2 rounded-lg text-gray-800">باتری قدرتمند</div> -->
							      </div>

							      <p class="text-lg font-semibold mt-4 flex gap-1 text-gray-600">
							      	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M10.0072 2.10365C8.60556 1.64993 7.08193 2.28104 6.41168 3.59294L5.6059 5.17011C5.51016 5.35751 5.35775 5.50992 5.17036 5.60566L3.59318 6.41144C2.28128 7.08169 1.65018 8.60532 2.10389 10.0069L2.64935 11.6919C2.71416 11.8921 2.71416 12.1077 2.64935 12.3079L2.10389 13.9929C1.65018 15.3945 2.28129 16.9181 3.59318 17.5883L5.17036 18.3941C5.35775 18.4899 5.51016 18.6423 5.6059 18.8297L6.41169 20.4068C7.08194 21.7187 8.60556 22.3498 10.0072 21.8961L11.6922 21.3507C11.8924 21.2859 12.1079 21.2859 12.3081 21.3507L13.9931 21.8961C15.3947 22.3498 16.9183 21.7187 17.5886 20.4068L18.3944 18.8297C18.4901 18.6423 18.6425 18.4899 18.8299 18.3941L20.4071 17.5883C21.719 16.9181 22.3501 15.3945 21.8964 13.9929L21.3509 12.3079C21.2861 12.1077 21.2861 11.8921 21.3509 11.6919L21.8964 10.0069C22.3501 8.60531 21.719 7.08169 20.4071 6.41144L18.8299 5.60566C18.6425 5.50992 18.4901 5.3575 18.3944 5.17011L17.5886 3.59294C16.9183 2.28104 15.3947 1.64993 13.9931 2.10365L12.3081 2.6491C12.1079 2.71391 11.8924 2.71391 11.6922 2.6491L10.0072 2.10365ZM8.19271 4.50286C8.41612 4.06556 8.924 3.8552 9.39119 4.00643L11.0762 4.55189C11.6768 4.74632 12.3235 4.74632 12.9241 4.55189L14.6091 4.00643C15.0763 3.8552 15.5841 4.06556 15.8076 4.50286L16.6133 6.08004C16.9006 6.64222 17.3578 7.09946 17.92 7.38668L19.4972 8.19246C19.9345 8.41588 20.1448 8.92375 19.9936 9.39095L19.4481 11.076C19.2537 11.6766 19.2537 12.3232 19.4481 12.9238L19.9936 14.6088C20.1448 15.076 19.9345 15.5839 19.4972 15.8073L17.92 16.6131C17.3578 16.9003 16.9006 17.3576 16.6133 17.9197L15.8076 19.4969C15.5841 19.9342 15.0763 20.1446 14.6091 19.9933L12.9241 19.4479C12.3235 19.2535 11.6768 19.2535 11.0762 19.4479L9.3912 19.9933C8.924 20.1446 8.41612 19.9342 8.19271 19.4969L7.38692 17.9197C7.09971 17.3576 6.64246 16.9003 6.08028 16.6131L4.50311 15.8073C4.06581 15.5839 3.85544 15.076 4.00668 14.6088L4.55213 12.9238C4.74656 12.3232 4.74656 11.6766 4.55213 11.076L4.00668 9.39095C3.85544 8.92375 4.06581 8.41588 4.50311 8.19246L6.08028 7.38668C6.64246 7.09946 7.09971 6.64222 7.38692 6.08004L8.19271 4.50286ZM6.75972 11.7573L11.0023 15.9999L18.0734 8.92885L16.6592 7.51464L11.0023 13.1715L8.17394 10.343L6.75972 11.7573Z"></path></svg>
							      	گارانتی تعویض 12 ماهه
								  </p>
								  <p class="text-lg font-semibold mt-4 flex gap-1 text-gray-600">
							      	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M16 1C16.5523 1 17 1.44772 17 2V2.999L22 3V9L19.98 8.999L22.7467 16.5953C22.9105 17.032 23 17.5051 23 17.999C23 20.2082 21.2091 21.999 19 21.999C17.1368 21.999 15.5711 20.7251 15.1265 19.0008L10.8738 19.0008C10.4295 20.7256 8.86357 22 7 22C5.05513 22 3.43445 20.612 3.07453 18.7725C2.43558 18.439 2 17.7704 2 17V4C2 3.44772 2.44772 3 3 3H10C10.5523 3 11 3.44772 11 4V12C11 12.5128 11.386 12.9355 11.8834 12.9933L12 13H14C14.5128 13 14.9355 12.614 14.9933 12.1166L15 12V3H12V1H16ZM7 16C5.89543 16 5 16.8954 5 18C5 19.1046 5.89543 20 7 20C8.10457 20 9 19.1046 9 18C9 16.8954 8.10457 16 7 16ZM19 15.999C17.8954 15.999 17 16.8944 17 17.999C17 19.1036 17.8954 19.999 19 19.999C20.1046 19.999 21 19.1036 21 17.999C21 16.8944 20.1046 15.999 19 15.999ZM17.852 8.999H17V12C17 13.6569 15.6569 15 14 15H12C10.6941 15 9.58312 14.1656 9.17102 13.0009L3.99994 13V15.3542C4.73289 14.5238 5.80528 14 7 14C8.86393 14 10.4301 15.2749 10.874 17.0003H15.1257C15.5693 15.2744 17.1357 13.999 19 13.999C19.2373 13.999 19.4697 14.0197 19.6957 14.0593L17.852 8.999ZM9 8H4V11H9V8ZM20 5H17V7H20V5ZM9 5H4V6H9V5Z"></path></svg>
							      	ارسال تا 3 روز کاری
								  </p>

							      <!-- قیمت و دکمه سفارش -->
							      <div class="flex items-center mt-4 gap-2 mb-6">
							      	<span class="flex text-gray-600 gap-1">
							      		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M22.0049 9.99979V19.9998C22.0049 20.5521 21.5572 20.9998 21.0049 20.9998H3.00488C2.4526 20.9998 2.00488 20.5521 2.00488 19.9998V9.99979H22.0049ZM22.0049 7.99979H2.00488V3.99979C2.00488 3.4475 2.4526 2.99979 3.00488 2.99979H21.0049C21.5572 2.99979 22.0049 3.4475 22.0049 3.99979V7.99979ZM15.0049 15.9998V17.9998H19.0049V15.9998H15.0049Z"></path></svg>
							      		قیمت
							      	</span>
							        <span class="text-xl font-bold text-green-600">{{ product.price }} تومان</span>
							      </div>
							      <a href="{% url 'add_to_cart' product.id %}" class="btn btn-outline btn-error">
							      	اضافه به سبد خرید 
							      	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor"><path d="M6.00488 9H19.9433L20.4433 7H8.00488V5H21.7241C22.2764 5 22.7241 5.44772 22.7241 6C22.7241 6.08176 22.7141 6.16322 22.6942 6.24254L20.1942 16.2425C20.083 16.6877 19.683 17 19.2241 17H5.00488C4.4526 17 4.00488 16.5523 4.00488 16V4H2.00488V2H5.00488C5.55717 2 6.00488 2.44772 6.00488 3V9ZM6.00488 23C4.90031 23 4.00488 22.1046 4.00488 21C4.00488 19.8954 4.90031 19 6.00488 19C7.10945 19 8.00488 19.8954 8.00488 21C8.00488 22.1046 7.10945 23 6.00488 23ZM18.0049 23C16.9003 23 16.0049 22.1046 16.0049 21C16.0049 19.8954 16.9003 19 18.0049 19C19.1095 19 20.0049 19.8954 20.0049 21C20.0049 22.1046 19.1095 23 18.0049 23Z"></path></svg>
							      </a>
							    </div>
							  </div>

							  <!-- توضیحات محصول -->
							  <div class="mt-10 bg-white rounded-lg shadow-md p-6">
							    <h2 class="text-xl font-bold mb-4">توضیحات محصول</h2>
							    <p class="text-gray-700 leading-relaxed">
							    	{{ product.description }}
							    </p>
							  </div>

							  <!-- محصولات مرتبط (اسلایدر یا گرید کارت‌ها) -->
							  <div class="mt-10">
							    <!-- blogSlider -->
									<div class="container mx-auto max-w-7xl px-4 border border-gray-300 rounded-lg p-4 shadow-sm">
									  <!-- عنوان -->
									  <p class="text-2xl md:text-2xl font-bold text-center mb-6 flex" style="text-align: center; color: #124e6e;">
									  	<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor"><path d="M14 4.4375C15.3462 4.4375 16.4375 3.34619 16.4375 2H17.5625C17.5625 3.34619 18.6538 4.4375 20 4.4375V5.5625C18.6538 5.5625 17.5625 6.65381 17.5625 8H16.4375C16.4375 6.65381 15.3462 5.5625 14 5.5625V4.4375ZM1 11C4.31371 11 7 8.31371 7 5H9C9 8.31371 11.6863 11 15 11V13C11.6863 13 9 15.6863 9 19H7C7 15.6863 4.31371 13 1 13V11ZM4.87601 12C6.18717 12.7276 7.27243 13.8128 8 15.124 8.72757 13.8128 9.81283 12.7276 11.124 12 9.81283 11.2724 8.72757 10.1872 8 8.87601 7.27243 10.1872 6.18717 11.2724 4.87601 12ZM17.25 14C17.25 15.7949 15.7949 17.25 14 17.25V18.75C15.7949 18.75 17.25 20.2051 17.25 22H18.75C18.75 20.2051 20.2051 18.75 22 18.75V17.25C20.2051 17.25 18.75 15.7949 18.75 14H17.25Z"></path></svg>
									  	محصولات مشابه

									  </p>

									  <!-- اسلایدر -->
									  <div class="swiper mySwiper-efe rounded-lg bg-white p-6">
									    <div class="swiper-wrapper">
										  
											{% for related in related_products %}
											  <div class="px-4 py-1 overflow-hidden swiper-slide flex justify-center items-center h-full" style="display: flex;">
											    <div class="bg-white rounded-lg overflow-hidden border border-gray-300 hover:shadow-md transition-shadow duration-300 group">
											      <div class="overflow-hidden p-5 pb-2">
											        <img src="{{ related.image.url }}" alt="{{ related.title }}" class="w-full h-48 object-cover rounded-xl transform group-hover:scale-105 transition-transform duration-500">
											      </div>
											      <div class="p-2">
											        <h3 class="text-lg font-semibold text-gray-800 mb-3 pr-5">
											        	{{ related.title }}
											        </h3>
											        <a href="{% url 'product_detail' related.slug %}" class="w-full text-center py-2 px-4 rounded-lg flex items-center gap-2 btn btn-md btn-info text-white" style="text-align: center;">
											          نمایش محصول
											        </a>
											      </div>
											    </div>
											  </div>
											{% endfor %}

										  

										</div>

									    <!-- دکمه‌های قبلی و بعدی -->
									    <div class="btn btn-circle absolute text-gray-800 hover:text-gray-600 z-10 next-btn-brands">>></div>
									    <div class="btn btn-circle absolute text-gray-800 hover:text-gray-600 z-10 prev-btn-brands"><<</div>
									  </div>
									</div>

									<script>
									  const swiper = new Swiper(".mySwiper-efe", {
									    slidesPerView: 4,
									    spaceBetween: 10,
									    loop: true,
									    navigation: {
									      nextEl: ".next-btn-brands",
									      prevEl: ".prev-btn-brands",
									    },
									    breakpoints: {
									      0: { slidesPerView: 1 },
									      640: { slidesPerView: 2 },
									      768: { slidesPerView: 3 },
									      1024: { slidesPerView: 4 },
									    },
									  });
									</script>
								<!-- /blogSlider -->
							  </div>
							</div>
						</div>
						<!-- بنر مشاوره -->
						  <div class="mt-10">
						    <div class="bg-blue-600 text-white text-center py-6 rounded-lg">
						      <h2 class="text-lg font-semibold" style="text-align: center;">
						        برای خرید سوال یا مسئله‌ای داری؟ با مشاورین فریس تماس بگیر — مشاوره رایگان تخصصی پلوس و سر پلوس فریس
						      </h2>
						    </div>
						  </div>


					</div>
				<!-- /mainAbout -->
			</div>
		<!-- /MainContent -->
	{% endblock %}
