{% extends 'dashboard/base_dashboard.html' %}
{% load humanize %}
{% block title %}Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª{% endblock %}

{% block content %}
<div class="flex items-center justify-between mb-6">
  <h1 class="text-2xl font-bold">ğŸ“¦ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØµÙˆÙ„Ø§Øª</h1>
  <a href="{% url 'dashboard_product_add' %}" class="btn btn-primary">Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØµÙˆÙ„ Ø¬Ø¯ÛŒØ¯</a>
</div>

<div class="overflow-x-auto bg-base-100 shadow rounded-xl">
  <table class="table">
    <thead>
      <tr>
        <th>Ø±Ø¯ÛŒÙ</th>
        <th>Ù†Ø§Ù… Ù…Ø­ØµÙˆÙ„</th>
        <th>Ù‚ÛŒÙ…Øª</th>
        <th>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</th>
        <th>Ø¹Ù…Ù„ÛŒØ§Øª</th>
      </tr>
    </thead>
    <tbody>
      {% for product in products %}
      <tr>
        <td>{{ forloop.counter|add:page_obj.start_index|add:"-1" }}</td>
        <td>{{ product.title }}</td>
        <td>{{ product.price|intcomma }} ØªÙˆÙ…Ø§Ù†</td>
        <td>{{ product.category }}</td>
        <td>
          <a href="#" class="btn btn-sm btn-info">ÙˆÛŒØ±Ø§ÛŒØ´</a>
          <button onclick="confirmDelete('{{ product.title }}')" class="btn btn-sm btn-error">Ø­Ø°Ù</button>
        </td>
      </tr>
      {% empty %}
      <tr>
        <td colspan="5" class="text-center py-4 text-gray-500">Ù…Ø­ØµÙˆÙ„ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯.</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<div class="mt-6 flex justify-center">
  {% include 'dashboard/partials/pagination.html' %}
</div>

<script>
function confirmDelete(name) {
  if (confirm(`Ø´Ù…Ø§ Ø¯Ø± Ø­Ø§Ù„ Ø­Ø°Ù ${name} Ù‡Ø³ØªÛŒØ¯. Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù†ÛŒØ¯ØŸ`)) {
    // Ø§ÛŒÙ†Ø¬Ø§ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø­Ø°Ù Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒØ´Ù‡
  }
}
</script>
{% endblock %}